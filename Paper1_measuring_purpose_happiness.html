<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Patrick E. McKnight">
<meta name="author" content="Todd B. Kashdan">
<meta name="author" content="Amie MacKay">
<meta name="keywords" content="purpose in life, happiness, life satisfaction, well-being, values, personality">

<title>Measuring Purpose and Happiness</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Paper1_measuring_purpose_happiness_files/libs/clipboard/clipboard.min.js"></script>
<script src="Paper1_measuring_purpose_happiness_files/libs/quarto-html/quarto.js"></script>
<script src="Paper1_measuring_purpose_happiness_files/libs/quarto-html/popper.min.js"></script>
<script src="Paper1_measuring_purpose_happiness_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Paper1_measuring_purpose_happiness_files/libs/quarto-html/anchor.min.js"></script>
<link href="Paper1_measuring_purpose_happiness_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Paper1_measuring_purpose_happiness_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Paper1_measuring_purpose_happiness_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Paper1_measuring_purpose_happiness_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Paper1_measuring_purpose_happiness_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="Paper1_measuring_purpose_happiness_files/libs/kePrint-0.0.1/kePrint.js"></script>
<link href="Paper1_measuring_purpose_happiness_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#analysis-1-descriptives-and-psychometrics-comparability-of-measures" id="toc-analysis-1-descriptives-and-psychometrics-comparability-of-measures" class="nav-link active" data-scroll-target="#analysis-1-descriptives-and-psychometrics-comparability-of-measures">Analysis 1: Descriptives and Psychometrics (Comparability of Measures)</a></li>
  <li><a href="#analysis-2-multi-sample-analysis-temporal-stability-of-relationship" id="toc-analysis-2-multi-sample-analysis-temporal-stability-of-relationship" class="nav-link" data-scroll-target="#analysis-2-multi-sample-analysis-temporal-stability-of-relationship">Analysis 2: Multi-Sample Analysis (Temporal Stability of Relationship)</a></li>
  <li><a href="#analysis-3-cross-lagged-panel-analysis-causal-direction" id="toc-analysis-3-cross-lagged-panel-analysis-causal-direction" class="nav-link" data-scroll-target="#analysis-3-cross-lagged-panel-analysis-causal-direction">Analysis 3: Cross-lagged Panel Analysis (Causal Direction)</a></li>
  <li><a href="#analysis-3-quantile-regression-deeper-look-into-the-relationship" id="toc-analysis-3-quantile-regression-deeper-look-into-the-relationship" class="nav-link" data-scroll-target="#analysis-3-quantile-regression-deeper-look-into-the-relationship">Analysis 3: Quantile Regression (Deeper Look into the Relationship)</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="Paper1_measuring_purpose_happiness.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li><li><a href="Paper1_measuring_purpose_happiness.docx"><i class="bi bi-file-word"></i>MS Word</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Measuring Purpose and Happiness</h1>
<p class="subtitle lead">Psychometrics and Tests of Stability and Specificity Over Two Years</p>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Authors</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Patrick E. McKnight <a href="mailto:pmcknigh@gmu.edu" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0002-9067-9066" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            George Mason University
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Todd B. Kashdan <a href="mailto:tkashdan@gmu.edu" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0001-6438-0485" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            George Mason University
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Amie MacKay </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            George Mason University
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Abstract</div>
    In the social sciences, a case has been made for distinguishing between purpose in life and happiness. That said, a surprisingly small number of direct empirical comparisons exist. The following study addresses the relative stability of purpose and happiness ratings over time (baseline, 6 months, and 1 year follow-up). In addition, we explored whether purpose and happiness change independently of each other over time. Furthermore, we tested what best differentiates purpose and happiness using a comprehensive battery of personality constructs (e.g., goal-specific hope scale, psychological needs, distress tolerance, and values).
  </div>
</div>

<div>
  <div class="keywords">
    <div class="block-title">Keywords</div>
    <p>purpose in life, happiness, life satisfaction, well-being, values, personality</p>
  </div>
</div>

</header>


<section id="analysis-1-descriptives-and-psychometrics-comparability-of-measures" class="level1">
<h1>Analysis 1: Descriptives and Psychometrics (Comparability of Measures)</h1>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover table-condensed caption-top table-sm small" data-quarto-postprocess="true">
<caption>Table 1. Psychometric Properties of Happiness and Purpose Measures Across Timepoints (POMP Scores)</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">Measure</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">Timepoint</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">N</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">Mean</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">SD</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">Min</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">Max</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">Cronbach's α</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Happiness</td>
<td style="text-align: left;">Baseline</td>
<td style="text-align: right;">328</td>
<td style="text-align: left;">53.09</td>
<td style="text-align: left;">19.23</td>
<td style="text-align: left;">0.00</td>
<td style="text-align: left;">85.71</td>
<td style="text-align: left;">0.874</td>
</tr>
<tr class="even">
<td style="text-align: left;">Happiness</td>
<td style="text-align: left;">Follow-up 1</td>
<td style="text-align: right;">200</td>
<td style="text-align: left;">53.73</td>
<td style="text-align: left;">20.08</td>
<td style="text-align: left;">0.00</td>
<td style="text-align: left;">85.71</td>
<td style="text-align: left;">0.887</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Happiness</td>
<td style="text-align: left;">Follow-up 2</td>
<td style="text-align: right;">119</td>
<td style="text-align: left;">51.56</td>
<td style="text-align: left;">20.18</td>
<td style="text-align: left;">0.00</td>
<td style="text-align: left;">82.14</td>
<td style="text-align: left;">0.889</td>
</tr>
<tr class="even">
<td style="text-align: left;">Purpose</td>
<td style="text-align: left;">Baseline</td>
<td style="text-align: right;">314</td>
<td style="text-align: left;">54.17</td>
<td style="text-align: left;">17.86</td>
<td style="text-align: left;">0.00</td>
<td style="text-align: left;">80.00</td>
<td style="text-align: left;">0.844</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Purpose</td>
<td style="text-align: left;">Follow-up 1</td>
<td style="text-align: right;">197</td>
<td style="text-align: left;">55.23</td>
<td style="text-align: left;">16.96</td>
<td style="text-align: left;">0.00</td>
<td style="text-align: left;">80.00</td>
<td style="text-align: left;">0.904</td>
</tr>
<tr class="even">
<td style="text-align: left;">Purpose</td>
<td style="text-align: left;">Follow-up 2</td>
<td style="text-align: right;">119</td>
<td style="text-align: left;">54.58</td>
<td style="text-align: left;">18.13</td>
<td style="text-align: left;">0.00</td>
<td style="text-align: left;">80.00</td>
<td style="text-align: left;">0.884</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
<section id="analysis-2-multi-sample-analysis-temporal-stability-of-relationship" class="level1">
<h1>Analysis 2: Multi-Sample Analysis (Temporal Stability of Relationship)</h1>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Missing data summary:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>      b_shs_gh_a       b_shs_rh_a       b_shs_ch_a     b_shs_ch_b_r 
              17               17               17               17 
    fu1_shs_gh_a     fu1_shs_rh_a     fu1_shs_ch_a fu1_shs_ch_fu1_r 
             145              145              145              145 
    fu2_shs_gh_a     fu2_shs_rh_a     fu2_shs_ch_a   fu2_shs_ch_b_r 
             226              226              226              226 
       b_bpurp_1        b_bpurp_2        b_bpurp_3        b_bpurp_4 
              31               31               31               31 
     fu1_bpurp_1      fu1_bpurp_2      fu1_bpurp_3      fu1_bpurp_4 
             148              148              148              148 
     fu2_bpurp_1      fu2_bpurp_2      fu2_bpurp_3      fu2_bpurp_4 
             226              226              226              226 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Descriptive statistics for POMP scores:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>                      vars   n  mean    sd median min   max range  skew
b_shs_gh_a_pomp          1 328 57.62 18.54  57.14   0 85.71 85.71 -0.57
b_shs_rh_a_pomp          2 328 51.52 21.95  57.14   0 85.71 85.71 -0.27
b_shs_ch_a_pomp          3 328 49.91 23.46  57.14   0 85.71 85.71 -0.38
b_shs_ch_b_r_pomp        4 328 53.31 25.75  57.14   0 85.71 85.71 -0.27
fu1_shs_gh_a_pomp        5 200 57.00 21.43  57.14   0 85.71 85.71 -0.67
fu1_shs_rh_a_pomp        6 200 50.86 23.65  57.14   0 85.71 85.71 -0.36
fu1_shs_ch_a_pomp        7 200 52.86 23.14  57.14   0 85.71 85.71 -0.37
fu1_shs_ch_fu1_r_pomp    8 200 54.21 24.57  57.14   0 85.71 85.71 -0.38
fu2_shs_gh_a_pomp        9 119 55.94 20.92  57.14   0 85.71 85.71 -0.72
fu2_shs_rh_a_pomp       10 119 50.66 23.06  57.14   0 85.71 85.71 -0.50
fu2_shs_ch_a_pomp       11 119 48.14 24.38  57.14   0 85.71 85.71 -0.28
fu2_shs_ch_b_r_pomp     12 119 51.50 24.62  57.14   0 85.71 85.71 -0.43
b_bpurp_1_pomp          13 314 58.09 21.36  60.00   0 80.00 80.00 -0.95
b_bpurp_2_pomp          14 314 59.55 19.48  60.00   0 80.00 80.00 -0.93
b_bpurp_3_pomp          15 314 49.75 23.24  60.00   0 80.00 80.00 -0.59
b_bpurp_4_pomp          16 314 49.30 22.27  60.00   0 80.00 80.00 -0.43
fu1_bpurp_1_pomp        17 197 57.66 18.75  60.00   0 80.00 80.00 -1.10
fu1_bpurp_2_pomp        18 197 58.48 17.49  60.00   0 80.00 80.00 -0.67
fu1_bpurp_3_pomp        19 197 52.99 21.13  60.00   0 80.00 80.00 -0.69
fu1_bpurp_4_pomp        20 197 51.78 19.47  60.00   0 80.00 80.00 -0.63
fu2_bpurp_1_pomp        21 119 58.15 18.77  60.00   0 80.00 80.00 -1.04
fu2_bpurp_2_pomp        22 119 57.65 20.37  60.00   0 80.00 80.00 -1.06
fu2_bpurp_3_pomp        23 119 50.92 22.96  60.00   0 80.00 80.00 -0.60
fu2_bpurp_4_pomp        24 119 51.60 21.86  60.00   0 80.00 80.00 -0.63
                      kurtosis   se
b_shs_gh_a_pomp           0.19 1.02
b_shs_rh_a_pomp          -0.66 1.21
b_shs_ch_a_pomp          -0.63 1.30
b_shs_ch_b_r_pomp        -1.19 1.42
fu1_shs_gh_a_pomp        -0.01 1.52
fu1_shs_rh_a_pomp        -0.75 1.67
fu1_shs_ch_a_pomp        -0.72 1.64
fu1_shs_ch_fu1_r_pomp    -0.96 1.74
fu2_shs_gh_a_pomp         0.13 1.92
fu2_shs_rh_a_pomp        -0.50 2.11
fu2_shs_ch_a_pomp        -0.74 2.24
fu2_shs_ch_b_r_pomp      -0.79 2.26
b_bpurp_1_pomp            0.28 1.21
b_bpurp_2_pomp            0.56 1.10
b_bpurp_3_pomp           -0.48 1.31
b_bpurp_4_pomp           -0.62 1.26
fu1_bpurp_1_pomp          1.29 1.34
fu1_bpurp_2_pomp          0.12 1.25
fu1_bpurp_3_pomp         -0.13 1.51
fu1_bpurp_4_pomp          0.01 1.39
fu2_bpurp_1_pomp          1.05 1.72
fu2_bpurp_2_pomp          0.87 1.87
fu2_bpurp_3_pomp         -0.42 2.10
fu2_bpurp_4_pomp         -0.17 2.00</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Fitting multisample CFA model with FIML...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: lavaan-&gt;lav_data_full():  
   some cases are empty and will be ignored: 1 58 62 109 121 124 168 181 205 
   225 276 314 329 337 345.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Model Fit Indices:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>    chisq        df    pvalue       cfi       tli     rmsea      srmr       aic 
  427.841   237.000     0.000     0.947     0.938     0.049     0.057 42644.566 
      bic 
42975.087 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Standardized Factor Loadings:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>                   lhs                   rhs est.std pvalue
1   baseline_happiness       b_shs_gh_a_pomp   0.900      0
2   baseline_happiness       b_shs_rh_a_pomp   0.892      0
3   baseline_happiness       b_shs_ch_a_pomp   0.799      0
4   baseline_happiness     b_shs_ch_b_r_pomp   0.651      0
5     baseline_purpose        b_bpurp_1_pomp   0.845      0
6     baseline_purpose        b_bpurp_2_pomp   0.673      0
7     baseline_purpose        b_bpurp_3_pomp   0.851      0
8     baseline_purpose        b_bpurp_4_pomp   0.691      0
9  followup1_happiness     fu1_shs_gh_a_pomp   0.897      0
10 followup1_happiness     fu1_shs_rh_a_pomp   0.861      0
11 followup1_happiness     fu1_shs_ch_a_pomp   0.876      0
12 followup1_happiness fu1_shs_ch_fu1_r_pomp   0.669      0
13   followup1_purpose      fu1_bpurp_1_pomp   0.839      0
14   followup1_purpose      fu1_bpurp_2_pomp   0.851      0
15   followup1_purpose      fu1_bpurp_3_pomp   0.873      0
16   followup1_purpose      fu1_bpurp_4_pomp   0.822      0
17 followup2_happiness     fu2_shs_gh_a_pomp   0.937      0
18 followup2_happiness     fu2_shs_rh_a_pomp   0.905      0
19 followup2_happiness     fu2_shs_ch_a_pomp   0.829      0
20 followup2_happiness   fu2_shs_ch_b_r_pomp   0.617      0
21   followup2_purpose      fu2_bpurp_1_pomp   0.846      0
22   followup2_purpose      fu2_bpurp_2_pomp   0.763      0
23   followup2_purpose      fu2_bpurp_3_pomp   0.888      0
24   followup2_purpose      fu2_bpurp_4_pomp   0.790      0</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Standardized Correlations between Purpose and Happiness:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>    Timepoint Correlation p_value
1    Baseline       0.429   0.000
2 Follow-up 1       0.528   0.000
3 Follow-up 2       0.478   0.000
4    Baseline       0.440   0.000
5 Follow-up 1       0.568   0.000
6 Follow-up 2       0.495   0.000</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Formatted Table created as formatted_table</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Visualization saved as 'purpose_happiness_relationship.png'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in semPaths(cfa_fit, what = "std", edge.label.cex = 0.6, sizeMan = 5, :
Groups specified numerically and 'manifests' not supplied. Results might be
unexpected.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Paper1_measuring_purpose_happiness_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Error in if (border) { : missing value where TRUE/FALSE needed</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Attempting alternative approach for creating semPlot diagram...</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in semPaths(cfa_fit, what = "std", edge.label.cex = 0.6, sizeMan = 5, :
Groups specified numerically and 'manifests' not supplied. Results might be
unexpected.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Error in if (border) { : missing value where TRUE/FALSE needed</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Detailed CFA path diagram saved as 'cfa_model_diagram.pdf'</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
====== MULTISAMPLE CFA RESULTS SUMMARY ======</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
The multisample CFA model examined the structural relationship between Purpose and Happiness</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
across three timepoints (Baseline, Follow-up 1, and Follow-up 2) using POMP scores.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

Model Fit:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
  Chi-square: 427.84 (df = 237, p = 4.04e-13)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
  CFI: 0.947</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
  TLI: 0.938</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
  RMSEA: 0.049</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
  SRMR: 0.057</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

Standardized Correlations between Purpose and Happiness:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
  Baseline: r = 0.429 (p &lt; 0.001)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
  Follow-up 1: r = 0.528 (p &lt; 0.001)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
  Follow-up 2: r = 0.478 (p &lt; 0.001)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

Analysis completed successfully. Results and visualizations have been saved.</code></pre>
</div>
</div>
</section>
<section id="analysis-3-cross-lagged-panel-analysis-causal-direction" class="level1">
<h1>Analysis 3: Cross-lagged Panel Analysis (Causal Direction)</h1>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Missing values per variable:"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>  b_happiness fu1_happiness fu2_happiness b_purpose fu1_purpose fu2_purpose
1          17           145           226        31         148         226</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>                     n  mean    sd   se
Baseline Happiness 328 53.09 19.23 1.06
FU1 Happiness      200 53.73 20.08 1.42
FU2 Happiness      119 51.56 20.18 1.85
Baseline Purpose   314 54.17 17.86 1.01
FU1 Purpose        197 55.23 16.96 1.21
FU2 Purpose        119 54.58 18.13 1.66</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Correlation matrix:"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>              b_happiness fu1_happiness fu2_happiness b_purpose fu1_purpose
b_happiness     1.0000000     0.7143714     0.7215328 0.3956371   0.3732504
fu1_happiness   0.7143714     1.0000000     0.7304293 0.2630812   0.4698754
fu2_happiness   0.7215328     0.7304293     1.0000000 0.2877590   0.2640535
b_purpose       0.3956371     0.2630812     0.2877590 1.0000000   0.6027004
fu1_purpose     0.3732504     0.4698754     0.2640535 0.6027004   1.0000000
fu2_purpose     0.4828815     0.3926176     0.4047259 0.5055893   0.6362005
              fu2_purpose
b_happiness     0.4828815
fu1_happiness   0.3926176
fu2_happiness   0.4047259
b_purpose       0.5055893
fu1_purpose     0.6362005
fu2_purpose     1.0000000</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: lavaan-&gt;lav_data_full():  
   some cases are empty and will be ignored: 1 58 62 109 121 124 168 181 205 
   225 276 314 329 337 345.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6-19 ended normally after 105 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        23

                                                  Used       Total
  Number of observations                           330         345
  Number of missing patterns                        11            

Model Test User Model:
                                                      
  Test statistic                                36.194
  Degrees of freedom                                 4
  P-value (Chi-square)                           0.000

Model Test Baseline Model:

  Test statistic                               512.785
  Degrees of freedom                                15
  P-value                                        0.000

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.935
  Tucker-Lewis Index (TLI)                       0.757
                                                      
  Robust Comparative Fit Index (CFI)             0.913
  Robust Tucker-Lewis Index (TLI)                0.674

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)              -5305.474
  Loglikelihood unrestricted model (H1)      -5287.377
                                                      
  Akaike (AIC)                               10656.948
  Bayesian (BIC)                             10744.327
  Sample-size adjusted Bayesian (SABIC)      10671.371

Root Mean Square Error of Approximation:

  RMSEA                                          0.156
  90 Percent confidence interval - lower         0.112
  90 Percent confidence interval - upper         0.205
  P-value H_0: RMSEA &lt;= 0.050                    0.000
  P-value H_0: RMSEA &gt;= 0.080                    0.997
                                                      
  Robust RMSEA                                   0.266
  90 Percent confidence interval - lower         0.190
  90 Percent confidence interval - upper         0.350
  P-value H_0: Robust RMSEA &lt;= 0.050             0.000
  P-value H_0: Robust RMSEA &gt;= 0.080             1.000

Standardized Root Mean Square Residual:

  SRMR                                           0.068

Parameter Estimates:

  Standard errors                             Standard
  Information                                 Observed
  Observed information based on                Hessian

Regressions:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  fu1_happiness ~                                                       
    b_happnss (a1)    0.783    0.055   14.120    0.000    0.783    0.740
  fu2_happiness ~                                                       
    f1_hppnss (a2)    0.718    0.067   10.768    0.000    0.718    0.742
  fu1_purpose ~                                                         
    b_purpose (b1)    0.544    0.061    8.947    0.000    0.544    0.556
  fu2_purpose ~                                                         
    fu1_purps (b2)    0.609    0.083    7.322    0.000    0.609    0.582
  fu1_purpose ~                                                         
    b_happnss (c1)    0.168    0.053    3.161    0.002    0.168    0.185
  fu2_purpose ~                                                         
    f1_hppnss (c2)    0.149    0.068    2.197    0.028    0.149    0.165
  fu1_happiness ~                                                       
    b_purpose (d1)   -0.039    0.062   -0.633    0.527   -0.039   -0.035
  fu2_happiness ~                                                       
    fu1_purps (d2)   -0.049    0.083   -0.585    0.558   -0.049   -0.043

Covariances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  b_happiness ~~                                                        
    b_purpose (e1)  132.765   20.538    6.464    0.000  132.765    0.388
 .fu1_happiness ~~                                                      
   .fu1_purps (e2)   70.497   14.140    4.986    0.000   70.497    0.382
 .fu2_happiness ~~                                                      
   .fu2_purps (e3)   44.452   18.038    2.464    0.014   44.452    0.243

Intercepts:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .fu1_happiness    13.801    3.766    3.665    0.000   13.801    0.680
   .fu2_happiness    16.226    4.659    3.483    0.000   16.226    0.827
   .fu1_purpose      15.884    3.677    4.320    0.000   15.884    0.910
   .fu2_purpose      13.453    4.570    2.944    0.003   13.453    0.736
    b_happiness      53.150    1.058   50.216    0.000   53.150    2.769
    b_purpose        53.975    1.000   53.990    0.000   53.975    3.026

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .fu1_happiness   193.890   19.167   10.116    0.000  193.890    0.471
   .fu2_happiness   183.814   24.539    7.491    0.000  183.814    0.478
   .fu1_purpose     175.755   17.988    9.770    0.000  175.755    0.577
   .fu2_purpose     181.320   25.022    7.246    0.000  181.320    0.543
    b_happiness     368.354   28.732   12.820    0.000  368.354    1.000
    b_purpose       318.229   25.341   12.558    0.000  318.229    1.000

Defined Parameters:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
    p_h_p_indirect    0.064    0.050    1.283    0.199    0.064    0.077
    h_p_h_indirect   -0.043    0.074   -0.586    0.558   -0.043   -0.037</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Path coefficients (standardized):"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>            lhs op           rhs label    est std.all pvalue
1 fu1_happiness  ~   b_happiness    a1  0.783   0.740  0.000
2 fu2_happiness  ~ fu1_happiness    a2  0.718   0.742  0.000
3   fu1_purpose  ~     b_purpose    b1  0.544   0.556  0.000
4   fu2_purpose  ~   fu1_purpose    b2  0.609   0.582  0.000
5   fu1_purpose  ~   b_happiness    c1  0.168   0.185  0.002
6   fu2_purpose  ~ fu1_happiness    c2  0.149   0.165  0.028
7 fu1_happiness  ~     b_purpose    d1 -0.039  -0.035  0.527
8 fu2_happiness  ~   fu1_purpose    d2 -0.049  -0.043  0.558</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Auto-regressive paths (stability):</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Happiness (T1→T2): 0.782504 p = 0 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Happiness (T2→T3): 0.7176054 p = 0 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Purpose (T1→T2): 0.5438442 p = 0 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Purpose (T2→T3): 0.6091186 p = 2.44027e-13 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Cross-lagged effects:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Happiness→Purpose (T1→T2): 0.168419 p = 0.001570851 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Happiness→Purpose (T2→T3): 0.1487128 p = 0.02801727 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Purpose→Happiness (T1→T2): -0.03947932 p = 0.5270006 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Purpose→Happiness (T2→T3): -0.04873728 p = 0.5582748 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Indirect effects:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Purpose→Happiness→Purpose: 0.06361989 p = 0.1993182 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Happiness→Purpose→Happiness: -0.04313694 p = 0.5576541 </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: lavaan-&gt;lav_data_full():  
   some cases are empty and will be ignored: 1 58 62 109 121 124 168 181 205 
   225 276 314 329 337 345.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6-19 ended normally after 104 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        23
  Number of equality constraints                     2

                                                  Used       Total
  Number of observations                           330         345
  Number of missing patterns                        11            

Model Test User Model:
                                                      
  Test statistic                                36.258
  Degrees of freedom                                 6
  P-value (Chi-square)                           0.000

Model Test Baseline Model:

  Test statistic                               512.785
  Degrees of freedom                                15
  P-value                                        0.000

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.939
  Tucker-Lewis Index (TLI)                       0.848
                                                      
  Robust Comparative Fit Index (CFI)             0.918
  Robust Tucker-Lewis Index (TLI)                0.794

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)              -5305.506
  Loglikelihood unrestricted model (H1)      -5287.377
                                                      
  Akaike (AIC)                               10653.012
  Bayesian (BIC)                             10732.793
  Sample-size adjusted Bayesian (SABIC)      10666.181

Root Mean Square Error of Approximation:

  RMSEA                                          0.124
  90 Percent confidence interval - lower         0.087
  90 Percent confidence interval - upper         0.164
  P-value H_0: RMSEA &lt;= 0.050                    0.001
  P-value H_0: RMSEA &gt;= 0.080                    0.973
                                                      
  Robust RMSEA                                   0.212
  90 Percent confidence interval - lower         0.151
  90 Percent confidence interval - upper         0.278
  P-value H_0: Robust RMSEA &lt;= 0.050             0.000
  P-value H_0: Robust RMSEA &gt;= 0.080             1.000

Standardized Root Mean Square Residual:

  SRMR                                           0.068

Parameter Estimates:

  Standard errors                             Standard
  Information                                 Observed
  Observed information based on                Hessian

Regressions:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  fu1_happiness ~                                                       
    b_happnss (a1)    0.781    0.053   14.784    0.000    0.781    0.740
  fu2_happiness ~                                                       
    f1_hppnss (a2)    0.718    0.062   11.581    0.000    0.718    0.740
  fu1_purpose ~                                                         
    b_purpose (b1)    0.546    0.058    9.437    0.000    0.546    0.559
  fu2_purpose ~                                                         
    fu1_purps (b2)    0.604    0.077    7.854    0.000    0.604    0.575
  fu1_purpose ~                                                         
    b_happnss  (c)    0.161    0.041    3.945    0.000    0.161    0.177
  fu2_purpose ~                                                         
    f1_hppnss  (c)    0.161    0.041    3.945    0.000    0.161    0.178
  fu1_happiness ~                                                       
    b_purpose  (d)   -0.043    0.049   -0.865    0.387   -0.043   -0.038
  fu2_happiness ~                                                       
    fu1_purps  (d)   -0.043    0.049   -0.865    0.387   -0.043   -0.038

Covariances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  b_happiness ~~                                                        
    b_purpose       132.792   20.538    6.466    0.000  132.792    0.388
 .fu1_happiness ~~                                                      
   .fu1_purpose      70.445   14.127    4.986    0.000   70.445    0.382
 .fu2_happiness ~~                                                      
   .fu2_purpose      44.310   18.037    2.457    0.014   44.310    0.243

Intercepts:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .fu1_happiness    14.060    3.435    4.093    0.000   14.060    0.694
   .fu2_happiness    15.881    3.919    4.053    0.000   15.881    0.809
   .fu1_purpose      16.195    3.464    4.676    0.000   16.195    0.930
   .fu2_purpose      13.080    4.328    3.022    0.003   13.080    0.715
    b_happiness      53.150    1.058   50.216    0.000   53.150    2.769
    b_purpose        53.975    1.000   53.989    0.000   53.975    3.026

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .fu1_happiness   193.862   19.162   10.117    0.000  193.862    0.473
   .fu2_happiness   183.820   24.539    7.491    0.000  183.820    0.477
   .fu1_purpose     175.643   17.965    9.777    0.000  175.643    0.579
   .fu2_purpose     181.530   25.035    7.251    0.000  181.530    0.542
    b_happiness     368.355   28.732   12.820    0.000  368.355    1.000
    b_purpose       318.250   25.342   12.558    0.000  318.250    1.000

Defined Parameters:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
    cross_diff        0.203    0.068    3.000    0.003    0.203    0.215</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Model comparison - testing equality of cross-lagged effects across time:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Chi-Squared Difference Test

                Df   AIC   BIC  Chisq Chisq diff RMSEA Df diff Pr(&gt;Chisq)
clpm_fit         4 10657 10744 36.194                                    
equal_cross_fit  6 10653 10733 36.258   0.063969     0       2     0.9685</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: lavaan-&gt;lav_data_full():  
   some cases are empty and will be ignored: 1 58 62 109 121 124 168 181 205 
   225 276 314 329 337 345.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>lavaan 0.6-19 ended normally after 103 iterations

  Estimator                                         ML
  Optimization method                           NLMINB
  Number of model parameters                        23
  Number of equality constraints                     2

                                                  Used       Total
  Number of observations                           330         345
  Number of missing patterns                        11            

Model Test User Model:
                                                      
  Test statistic                                45.111
  Degrees of freedom                                 6
  P-value (Chi-square)                           0.000

Model Test Baseline Model:

  Test statistic                               512.785
  Degrees of freedom                                15
  P-value                                        0.000

User Model versus Baseline Model:

  Comparative Fit Index (CFI)                    0.921
  Tucker-Lewis Index (TLI)                       0.804
                                                      
  Robust Comparative Fit Index (CFI)             0.905
  Robust Tucker-Lewis Index (TLI)                0.763

Loglikelihood and Information Criteria:

  Loglikelihood user model (H0)              -5309.932
  Loglikelihood unrestricted model (H1)      -5287.377
                                                      
  Akaike (AIC)                               10661.865
  Bayesian (BIC)                             10741.646
  Sample-size adjusted Bayesian (SABIC)      10675.034

Root Mean Square Error of Approximation:

  RMSEA                                          0.141
  90 Percent confidence interval - lower         0.104
  90 Percent confidence interval - upper         0.180
  P-value H_0: RMSEA &lt;= 0.050                    0.000
  P-value H_0: RMSEA &gt;= 0.080                    0.996
                                                      
  Robust RMSEA                                   0.227
  90 Percent confidence interval - lower         0.166
  90 Percent confidence interval - upper         0.293
  P-value H_0: Robust RMSEA &lt;= 0.050             0.000
  P-value H_0: Robust RMSEA &gt;= 0.080             1.000

Standardized Root Mean Square Residual:

  SRMR                                           0.076

Parameter Estimates:

  Standard errors                             Standard
  Information                                 Observed
  Observed information based on                Hessian

Regressions:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  fu1_happiness ~                                                       
    b_happnss (a1)    0.716    0.049   14.646    0.000    0.716    0.684
  fu2_happiness ~                                                       
    f1_hppnss (a2)    0.666    0.060   11.030    0.000    0.666    0.683
  fu1_purpose ~                                                         
    b_purpose (b1)    0.611    0.054   11.308    0.000    0.611    0.617
  fu2_purpose ~                                                         
    fu1_purps (b2)    0.671    0.075    8.895    0.000    0.671    0.641
  fu1_purpose ~                                                         
    b_happnss  (c)    0.081    0.038    2.100    0.036    0.081    0.087
  fu1_happiness ~                                                       
    b_purpose  (c)    0.081    0.038    2.100    0.036    0.081    0.071
  fu2_purpose ~                                                         
    f1_hppnss  (d)    0.069    0.050    1.372    0.170    0.069    0.075
  fu2_happiness ~                                                       
    fu1_purps  (d)    0.069    0.050    1.372    0.170    0.069    0.062

Covariances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
  b_happiness ~~                                                        
    b_purpose       133.453   20.533    6.500    0.000  133.453    0.390
 .fu1_happiness ~~                                                      
   .fu1_purpose      71.569   14.474    4.945    0.000   71.569    0.382
 .fu2_happiness ~~                                                      
   .fu2_purpose      47.775   18.594    2.569    0.010   47.775    0.257

Intercepts:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .fu1_happiness    10.778    3.584    3.008    0.003   10.778    0.536
   .fu2_happiness    12.459    4.229    2.946    0.003   12.459    0.636
   .fu1_purpose      16.911    3.684    4.591    0.000   16.911    0.957
   .fu2_purpose      14.237    4.629    3.076    0.002   14.237    0.769
    b_happiness      53.151    1.059   50.207    0.000   53.151    2.769
    b_purpose        53.987    0.998   54.071    0.000   53.987    3.029

Variances:
                   Estimate  Std.Err  z-value  P(&gt;|z|)   Std.lv  Std.all
   .fu1_happiness   197.288   19.625   10.053    0.000  197.288    0.489
   .fu2_happiness   187.675   25.247    7.434    0.000  187.675    0.489
   .fu1_purpose     178.093   18.301    9.731    0.000  178.093    0.570
   .fu2_purpose     184.725   25.651    7.201    0.000  184.725    0.539
    b_happiness     368.450   28.746   12.818    0.000  368.450    1.000
    b_purpose       317.623   25.258   12.575    0.000  317.623    1.000</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Model comparison - testing bidirectional equality of cross-lagged effects:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Chi-Squared Difference Test

                  Df   AIC   BIC  Chisq Chisq diff   RMSEA Df diff Pr(&gt;Chisq)  
clpm_fit           4 10657 10744 36.194                                        
bidirectional_fit  6 10662 10742 45.111     8.9167 0.10237       2    0.01158 *
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Variance explained (R-squared):</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>fu1_happiness fu2_happiness   fu1_purpose   fu2_purpose 
        0.529         0.522         0.423         0.457 </code></pre>
</div>
</div>
</section>
<section id="analysis-3-quantile-regression-deeper-look-into-the-relationship" class="level1">
<h1>Analysis 3: Quantile Regression (Deeper Look into the Relationship)</h1>
<div class="cell">
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Quantile Regression Slopes: Happiness Regressed on Purpose</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Quantile</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Slope</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">t-value</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">p-value</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Timepoint</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Significant</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">b_purpose</td>
<td style="text-align: left;">15th</td>
<td style="text-align: left;">0.40</td>
<td style="text-align: left;">3.91</td>
<td style="text-align: left;">0.000</td>
<td style="text-align: left; font-weight: bold;">Baseline</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="even">
<td style="text-align: left;">b_purpose1</td>
<td style="text-align: left;">30th</td>
<td style="text-align: left;">0.54</td>
<td style="text-align: left;">6.80</td>
<td style="text-align: left;">0.000</td>
<td style="text-align: left; font-weight: bold;">Baseline</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="odd">
<td style="text-align: left;">b_purpose2</td>
<td style="text-align: left;">50th</td>
<td style="text-align: left;">0.48</td>
<td style="text-align: left;">7.39</td>
<td style="text-align: left;">0.000</td>
<td style="text-align: left; font-weight: bold;">Baseline</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="even">
<td style="text-align: left;">b_purpose3</td>
<td style="text-align: left;">70th</td>
<td style="text-align: left;">0.48</td>
<td style="text-align: left;">6.02</td>
<td style="text-align: left;">0.000</td>
<td style="text-align: left; font-weight: bold;">Baseline</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="odd">
<td style="text-align: left;">b_purpose4</td>
<td style="text-align: left;">85th</td>
<td style="text-align: left;">0.40</td>
<td style="text-align: left;">6.25</td>
<td style="text-align: left;">0.000</td>
<td style="text-align: left; font-weight: bold;">Baseline</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="even">
<td style="text-align: left;">fu1_purpose</td>
<td style="text-align: left;">15th</td>
<td style="text-align: left;">0.50</td>
<td style="text-align: left;">3.56</td>
<td style="text-align: left;">0.000</td>
<td style="text-align: left; font-weight: bold;">Follow-up 1</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fu1_purpose1</td>
<td style="text-align: left;">30th</td>
<td style="text-align: left;">0.57</td>
<td style="text-align: left;">5.62</td>
<td style="text-align: left;">0.000</td>
<td style="text-align: left; font-weight: bold;">Follow-up 1</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="even">
<td style="text-align: left;">fu1_purpose2</td>
<td style="text-align: left;">50th</td>
<td style="text-align: left;">0.71</td>
<td style="text-align: left;">8.09</td>
<td style="text-align: left;">0.000</td>
<td style="text-align: left; font-weight: bold;">Follow-up 1</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fu1_purpose3</td>
<td style="text-align: left;">70th</td>
<td style="text-align: left;">0.71</td>
<td style="text-align: left;">6.16</td>
<td style="text-align: left;">0.000</td>
<td style="text-align: left; font-weight: bold;">Follow-up 1</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="even">
<td style="text-align: left;">fu1_purpose4</td>
<td style="text-align: left;">85th</td>
<td style="text-align: left;">0.49</td>
<td style="text-align: left;">4.02</td>
<td style="text-align: left;">0.000</td>
<td style="text-align: left; font-weight: bold;">Follow-up 1</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fu2_purpose</td>
<td style="text-align: left;">15th</td>
<td style="text-align: left;">0.41</td>
<td style="text-align: left;">2.18</td>
<td style="text-align: left;">0.032</td>
<td style="text-align: left; font-weight: bold;">Follow-up 2</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="even">
<td style="text-align: left;">fu2_purpose1</td>
<td style="text-align: left;">30th</td>
<td style="text-align: left;">0.57</td>
<td style="text-align: left;">4.49</td>
<td style="text-align: left;">0.000</td>
<td style="text-align: left; font-weight: bold;">Follow-up 2</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fu2_purpose2</td>
<td style="text-align: left;">50th</td>
<td style="text-align: left;">0.55</td>
<td style="text-align: left;">4.15</td>
<td style="text-align: left;">0.000</td>
<td style="text-align: left; font-weight: bold;">Follow-up 2</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="even">
<td style="text-align: left;">fu2_purpose3</td>
<td style="text-align: left;">70th</td>
<td style="text-align: left;">0.45</td>
<td style="text-align: left;">3.38</td>
<td style="text-align: left;">0.001</td>
<td style="text-align: left; font-weight: bold;">Follow-up 2</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="odd">
<td style="text-align: left;">fu2_purpose4</td>
<td style="text-align: left;">85th</td>
<td style="text-align: left;">0.29</td>
<td style="text-align: left;">2.17</td>
<td style="text-align: left;">0.032</td>
<td style="text-align: left; font-weight: bold;">Follow-up 2</td>
<td style="text-align: left;">*</td>
</tr>
</tbody>
</table>


</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range (`stat_smooth()`).
Removed 1 row containing non-finite outside the scale range (`stat_smooth()`).
Removed 1 row containing non-finite outside the scale range (`stat_smooth()`).
Removed 1 row containing non-finite outside the scale range (`stat_smooth()`).
Removed 1 row containing non-finite outside the scale range (`stat_smooth()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).
Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).
Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).
Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).
Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Paper1_measuring_purpose_happiness_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range
(`stat_smooth()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range (`stat_smooth()`).
Removed 1 row containing non-finite outside the scale range (`stat_smooth()`).
Removed 1 row containing non-finite outside the scale range (`stat_smooth()`).
Removed 1 row containing non-finite outside the scale range (`stat_smooth()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).
Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).
Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).
Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).
Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Paper1_measuring_purpose_happiness_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range
(`stat_smooth()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range (`stat_smooth()`).
Removed 1 row containing non-finite outside the scale range (`stat_smooth()`).
Removed 1 row containing non-finite outside the scale range (`stat_smooth()`).
Removed 1 row containing non-finite outside the scale range (`stat_smooth()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).
Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).
Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).
Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).
Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Paper1_measuring_purpose_happiness_files/figure-html/unnamed-chunk-4-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in rq.fit.br(x, y, tau = tau, ...): Solution may be nonunique</code></pre>
</div>
<div class="cell-output-display">
<table class="table table-striped table-hover caption-top table-sm small" data-quarto-postprocess="true">
<caption>Piecewise Quantile Regression: Slopes Below and Above the Breakpoint</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Quantile</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Low Slope</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">High Slope</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Diff</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">p-value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Breakpoint</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Timepoint</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Significant</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">purpose_low</td>
<td style="text-align: left;">15th</td>
<td style="text-align: left;">0.24</td>
<td style="text-align: left;">0.65</td>
<td style="text-align: left;">0.42</td>
<td style="text-align: left;">0.038</td>
<td style="text-align: right;">60</td>
<td style="text-align: left;">Baseline</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="even">
<td style="text-align: left;">purpose_low1</td>
<td style="text-align: left;">30th</td>
<td style="text-align: left;">0.36</td>
<td style="text-align: left;">0.89</td>
<td style="text-align: left;">0.54</td>
<td style="text-align: left;">0.012</td>
<td style="text-align: right;">60</td>
<td style="text-align: left;">Baseline</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="odd">
<td style="text-align: left;">purpose_low2</td>
<td style="text-align: left;">50th</td>
<td style="text-align: left;">0.48</td>
<td style="text-align: left;">0.48</td>
<td style="text-align: left;">-0.00</td>
<td style="text-align: left;">0.004</td>
<td style="text-align: right;">60</td>
<td style="text-align: left;">Baseline</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="even">
<td style="text-align: left;">purpose_low3</td>
<td style="text-align: left;">70th</td>
<td style="text-align: left;">0.54</td>
<td style="text-align: left;">0.36</td>
<td style="text-align: left;">-0.18</td>
<td style="text-align: left;">0.127</td>
<td style="text-align: right;">60</td>
<td style="text-align: left;">Baseline</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">purpose_low4</td>
<td style="text-align: left;">85th</td>
<td style="text-align: left;">0.28</td>
<td style="text-align: left;">0.48</td>
<td style="text-align: left;">0.20</td>
<td style="text-align: left;">0.002</td>
<td style="text-align: right;">60</td>
<td style="text-align: left;">Baseline</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="even">
<td style="text-align: left;">purpose_low5</td>
<td style="text-align: left;">15th</td>
<td style="text-align: left;">0.48</td>
<td style="text-align: left;">0.71</td>
<td style="text-align: left;">0.24</td>
<td style="text-align: left;">0.025</td>
<td style="text-align: right;">60</td>
<td style="text-align: left;">Follow-up 1</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="odd">
<td style="text-align: left;">purpose_low11</td>
<td style="text-align: left;">30th</td>
<td style="text-align: left;">0.57</td>
<td style="text-align: left;">0.52</td>
<td style="text-align: left;">-0.05</td>
<td style="text-align: left;">0.144</td>
<td style="text-align: right;">60</td>
<td style="text-align: left;">Follow-up 1</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">purpose_low21</td>
<td style="text-align: left;">50th</td>
<td style="text-align: left;">0.80</td>
<td style="text-align: left;">0.48</td>
<td style="text-align: left;">-0.33</td>
<td style="text-align: left;">0.119</td>
<td style="text-align: right;">60</td>
<td style="text-align: left;">Follow-up 1</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">purpose_low31</td>
<td style="text-align: left;">70th</td>
<td style="text-align: left;">0.71</td>
<td style="text-align: left;">0.54</td>
<td style="text-align: left;">-0.18</td>
<td style="text-align: left;">0.010</td>
<td style="text-align: right;">60</td>
<td style="text-align: left;">Follow-up 1</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="even">
<td style="text-align: left;">purpose_low41</td>
<td style="text-align: left;">85th</td>
<td style="text-align: left;">0.48</td>
<td style="text-align: left;">0.54</td>
<td style="text-align: left;">0.06</td>
<td style="text-align: left;">0.010</td>
<td style="text-align: right;">60</td>
<td style="text-align: left;">Follow-up 1</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="odd">
<td style="text-align: left;">purpose_low6</td>
<td style="text-align: left;">15th</td>
<td style="text-align: left;">0.40</td>
<td style="text-align: left;">0.43</td>
<td style="text-align: left;">0.03</td>
<td style="text-align: left;">0.281</td>
<td style="text-align: right;">55</td>
<td style="text-align: left;">Follow-up 2</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">purpose_low12</td>
<td style="text-align: left;">30th</td>
<td style="text-align: left;">0.64</td>
<td style="text-align: left;">0.30</td>
<td style="text-align: left;">-0.34</td>
<td style="text-align: left;">0.417</td>
<td style="text-align: right;">55</td>
<td style="text-align: left;">Follow-up 2</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">purpose_low22</td>
<td style="text-align: left;">50th</td>
<td style="text-align: left;">0.63</td>
<td style="text-align: left;">0.30</td>
<td style="text-align: left;">-0.33</td>
<td style="text-align: left;">0.350</td>
<td style="text-align: right;">55</td>
<td style="text-align: left;">Follow-up 2</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">purpose_low32</td>
<td style="text-align: left;">70th</td>
<td style="text-align: left;">0.48</td>
<td style="text-align: left;">0.43</td>
<td style="text-align: left;">-0.05</td>
<td style="text-align: left;">0.029</td>
<td style="text-align: right;">55</td>
<td style="text-align: left;">Follow-up 2</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="odd">
<td style="text-align: left;">purpose_low42</td>
<td style="text-align: left;">85th</td>
<td style="text-align: left;">0.43</td>
<td style="text-align: left;">0.20</td>
<td style="text-align: left;">-0.23</td>
<td style="text-align: left;">0.311</td>
<td style="text-align: right;">55</td>
<td style="text-align: left;">Follow-up 2</td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>


</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Paper1_measuring_purpose_happiness_files/figure-html/unnamed-chunk-4-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
----- Summary of Quantile Regression Analysis -----</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>This analysis examines the relationship between purpose and happiness at different</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>quantiles of the happiness distribution, similar to the approach by Killingsworth et al. (2023).</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Key findings:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>1. Slope patterns across quantiles: </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
   - Baseline: Slopes range from 0.40 to 0.54
   - Follow-up 1: Slopes range from 0.49 to 0.71
   - Follow-up 2: Slopes range from 0.29 to 0.57</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

2. Piecewise regression results: </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
   - Baseline: Significant differences in slopes around the breakpoint
   - Follow-up 1: Significant differences in slopes around the breakpoint
   - Follow-up 2: Significant differences in slopes around the breakpoint</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>

3. Comparative analysis across timepoints:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>   - The relationship between purpose and happiness </code></pre>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>